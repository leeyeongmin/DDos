<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	<select id="getUser" parameterType="user" resultType="user">
		SELECT ID, PASSWORD, NAME, PHONE, BIRTH, EXP_DATE, MEM_SEPARATION, OUT_COUNT
		FROM MEMBER
		
		<!-- 리스트 조회를 위해 단일인지 전체인지 조건 달기 -->
		WHERE ID = #{id}
	
	</select>
	
	<insert id="insertUser" parameterType="user">
	
		INSERT INTO MEMBER(ID, PASSWORD, NAME, PHONE, BIRTH, EXP_DATE, MEM_SEPARATION, OUT_COUNT) 
		VALUES( #{id}, #{password}, #{name}, #{phone}, #{birth}, SYSDATE,'user',0)
	
	</insert>
	
	<select id="checkId" parameterType="user" resultType="int">
	
		SELECT COUNT(*)
    	FROM MEMBER WHERE ID=#{id}
    	
	</select>
	
	<select id="findId" parameterType="user" resultType="user">
	
		SELECT ID
		FROM MEMBER
		WHERE NAME = #{name}
		AND PHONE = #{phone}
	
	</select>
	
	<select id="findPwd" parameterType="user" resultType="user">
	
		SELECT PASSWORD
		FROM MEMBER
		WHERE ID = #{id}
		AND NAME = #{name}
		AND PHONE = #{phone}
	
	</select>
	

</mapper> 